<div class="min-h-screen bg-gray-50 py-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Header -->
        <div class="mb-8">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold text-gray-900">My Addresses</h1>
                    <p class="mt-1 text-sm text-gray-500">Manage your shipping and billing addresses</p>
                </div>
                <button (click)="openAddressForm()" class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500">
          <i class="fas fa-plus mr-2"></i>
          Add New Address
        </button>
            </div>
        </div>

        <!-- Address List -->
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
            <div *ngFor="let address of addresses" class="bg-white rounded-lg shadow hover:shadow-md transition-shadow duration-200 p-6 relative">
                <!-- Default Address Badge -->
                <div *ngIf="address.isDefault" class="absolute top-4 right-4 bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full">
                    Default
                </div>

                <!-- Address Type Badge -->
                <div class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium" [ngClass]="{'bg-blue-100 text-blue-800': address.type === 'shipping',
                        'bg-purple-100 text-purple-800': address.type === 'billing',
                        'bg-green-100 text-green-800': address.type === 'both'}">
                    {{ address.type | titlecase }}
                </div>

                <!-- Address Details -->
                <div class="mt-4 space-y-2">
                    <div class="font-medium text-gray-900">{{ address.name }}</div>
                    <div class="text-sm text-gray-500">
                        {{ address.street }}<br> {{ address.city }}, {{ address.state }} {{ address.zipCode }}<br> {{ address.country }}
                    </div>
                    <div class="text-sm text-gray-500">{{ address.phone }}</div>
                </div>

                <!-- Actions -->
                <div class="mt-6 flex items-center justify-between">
                    <div class="flex space-x-3">
                        <button (click)="editAddress(address)" class="text-sm text-yellow-600 hover:text-yellow-700 flex items-center">
              <i class="fas fa-edit mr-1"></i> Edit
            </button>
                        <button (click)="deleteAddress(address.id)" class="text-sm text-red-600 hover:text-red-700 flex items-center">
              <i class="fas fa-trash-alt mr-1"></i> Delete
            </button>
                    </div>
                    <button *ngIf="!address.isDefault" (click)="setDefaultAddress(address.id, address.type)" class="text-sm text-gray-600 hover:text-gray-700">
            Make Default
          </button>
                </div>
            </div>

            <!-- Empty State -->
            <div *ngIf="addresses.length === 0" class="col-span-full flex flex-col items-center justify-center p-12 bg-white rounded-lg border-2 border-dashed border-gray-300">
                <i class="fas fa-map-marker-alt text-4xl text-gray-400 mb-4"></i>
                <h3 class="text-lg font-medium text-gray-900">No addresses yet</h3>
                <p class="text-sm text-gray-500 text-center mt-1">Add your first address to manage your shipping and billing locations.</p>
                <button (click)="openAddressForm()" class="mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500">
          <i class="fas fa-plus mr-2"></i>
          Add Address
        </button>
            </div>
        </div>

        <!-- Address Form Modal -->
        <div *ngIf="showAddressForm" class="fixed inset-0 z-10 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
            <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
                <!-- Background overlay -->
                <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true" (click)="closeAddressForm()"></div>

                <!-- Modal panel -->
                <div class="inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6">
                    <form [formGroup]="addressForm" (ngSubmit)="saveAddress()" class="space-y-6">
                        <div>
                            <h3 class="text-lg leading-6 font-medium text-gray-900">
                                {{ editMode ? 'Edit Address' : 'Add New Address' }}
                            </h3>
                            <p class="mt-1 text-sm text-gray-500">
                                Fill in the address details below.
                            </p>
                        </div>

                        <!-- Name -->
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700">Full Name</label>
                            <input type="text" id="name" formControlName="name" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm">
                            <div *ngIf="addressForm.get('name')?.errors?.['required'] && addressForm.get('name')?.touched" class="mt-1 text-sm text-red-600">
                                Name is required
                            </div>
                        </div>

                        <!-- Street Address -->
                        <div>
                            <label for="street" class="block text-sm font-medium text-gray-700">Street Address</label>
                            <input type="text" id="street" formControlName="street" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm">
                            <div *ngIf="addressForm.get('street')?.errors?.['required'] && addressForm.get('street')?.touched" class="mt-1 text-sm text-red-600">
                                Street address is required
                            </div>
                        </div>

                        <!-- City, State, Zip Grid -->
                        <div class="grid grid-cols-6 gap-6">
                            <div class="col-span-2">
                                <label for="city" class="block text-sm font-medium text-gray-700">City</label>
                                <input type="text" id="city" formControlName="city" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm">
                            </div>

                            <div class="col-span-2">
                                <label for="state" class="block text-sm font-medium text-gray-700">State</label>
                                <input type="text" id="state" formControlName="state" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm">
                            </div>

                            <div class="col-span-2">
                                <label for="zipCode" class="block text-sm font-medium text-gray-700">ZIP Code</label>
                                <input type="text" id="zipCode" formControlName="zipCode" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm">
                            </div>
                        </div>

                        <!-- Country -->
                        <div>
                            <label for="country" class="block text-sm font-medium text-gray-700">Country</label>
                            <select id="country" formControlName="country" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm">
                <option value="">Select a country</option>
                <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
              </select>
                        </div>

                        <!-- Phone -->
                        <div>
                            <label for="phone" class="block text-sm font-medium text-gray-700">Phone Number</label>
                            <input type="tel" id="phone" formControlName="phone" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm">
                        </div>

                        <!-- Address Type -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700">Address Type</label>
                            <div class="mt-2 space-x-4">
                                <label class="inline-flex items-center">
                  <input type="radio" 
                         formControlName="type" 
                         value="shipping"
                         class="form-radio text-yellow-600 focus:ring-yellow-500">
                  <span class="ml-2 text-sm text-gray-700">Shipping</span>
                </label>
                                <label class="inline-flex items-center">
                  <input type="radio" 
                         formControlName="type" 
                         value="billing"
                         class="form-radio text-yellow-600 focus:ring-yellow-500">
                  <span class="ml-2 text-sm text-gray-700">Billing</span>
                </label>
                                <label class="inline-flex items-center">
                  <input type="radio" 
                         formControlName="type" 
                         value="both"
                         class="form-radio text-yellow-600 focus:ring-yellow-500">
                  <span class="ml-2 text-sm text-gray-700">Both</span>
                </label>
                            </div>
                        </div>

                        <!-- Set as Default -->
                        <div class="flex items-start">
                            <div class="flex items-center h-5">
                                <input type="checkbox" id="isDefault" formControlName="isDefault" class="focus:ring-yellow-500 h-4 w-4 text-yellow-600 border-gray-300 rounded">
                            </div>
                            <div class="ml-3 text-sm">
                                <label for="isDefault" class="font-medium text-gray-700">Set as default address</label>
                                <p class="text-gray-500">This will be used as your primary address for this type.</p>
                            </div>
                        </div>

                        <!-- Form Actions -->
                        <div class="mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense">
                            <button type="submit" [disabled]="addressForm.invalid || isLoading" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-yellow-600 text-base font-medium text-white hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 sm:col-start-2 sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed">
                <i *ngIf="isLoading" class="fas fa-spinner fa-spin mr-2"></i>
                {{ editMode ? 'Update' : 'Save' }}
              </button>
                            <button type="button" (click)="closeAddressForm()" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 sm:mt-0 sm:col-start-1 sm:text-sm">
                Cancel
              </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>